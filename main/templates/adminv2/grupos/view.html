{% extends "base.html" %}
{% load static %}
{% block title %}
USUARIOS
{% endblock title %}
{% block pagetitle %}
{% include "partials/page-title.html" with subtitle="GRUPOS DE PERMISOS " title=group %}
{% endblock pagetitle %}
{% block content %}


{% if messages %}
<div class="alert alert-dismissible fade show" role="alert">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}
<!-- Title  -->
<div class="card shadow-lg p-3 ">
    <div class="d-flex justify-content-center align-items-center ">

        <div class="mb-0">
            {% if perms.auth.can_update_grupo %}
            <a href="{% url 'grupos_update' group.id %}" class="btn btn-lg btn-primary">EDITAR</a>
            {% endif %}
            {% if perms.auth.can_delete_grupo %}
            <a href="{% url 'grupos_delete' group.id %}" class="btn btn-lg btn-danger">ELIMINAR</a>
            {% endif %}
            <a href="{% url 'grupos_index' %}" class="btn btn-lg btn-secondary">CANCELAR</a>
        </div>
    </div>
</div>




<!-- Título de la página -->
<div class="card shadow">
    <div class="card-header border-0">
        <div class="row align-items-center">
            <div class="col-8">
                <h3 class="mb-0">Detalles del Grupo: {{ group.name }}</h3>
            </div>
        </div>
    </div>
    <div class="card-body">
        <!-- Nombre del grupo -->
        <div class="form-group mb-4">
            <label for="group_name" class="form-label">Nombre del Grupo</label>
            <input type="text" id="group_name" class="form-control form-control-alternative" value="{{ group.name }}"
                readonly>
        </div>

        <!-- Permisos del grupo (listado de permisos en lugar de un select) -->
        <div class="form-group">
            <label for="group_permissions" class="form-label">Permisos Asignados</label>
            <div class="card shadow-sm">
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        {% for permiso in group.permissions.all %}
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span>{{ permiso.name }}</span>
                            <span class="badge badge-pill badge-primary">Asignado</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>




{% endblock content %}

{% block extra_js %}
<script src="{% static 'js/app.min.js' %}"></script>
{% endblock extra_js %}